[
  {
    "chunk_index": 1,
    "title": "Introduction to Design Patterns and Observer Pattern",
    "text": "Software system design – practical\nLecture 07 – observer design pattern\nEng. Raghad al-hossny\n\nDesign patterns: \nDesign patterns \nCreational \nStructural \nBehavioral \n•\nFactory method\n•\nSingelton\n•\nStrategy.\n•\nState. \n•\nTemplate method.\n•\nobserver\n•\n Decorator \n\nObserver design pattern: \nAlso known as event-subscriber and \nlistener \nis a behavioral design pattern that \nlets you define a subscription \nmechanism to notify multiple \nobjects about any events that \nhappen to the object they’re \nobserving.\n\nObserver design pattern - example: \nImagine that you have \ntwo types of objects: a \nCustomer and a Store. \nThe customer is very \ninterested in a particular \nbrand of product, which \nshould become available \nin the store very soon.\nIt looks like we’ve got a conflict. Either the customer wastes \ntime checking product availability or the store wastes resources \nnotifying the wrong customers.\n\nObserver design pattern - example: \nThe solution: \nNotify only the interested \nclients about the new \nproduct arriving.\nSame idea as the observer \ndesign pattern.\n\nObserver design pattern: \nThe object that has some interesting state \nis often called subject, but since it’s also \ngoing to notify other objects about the \nchanges to its state, we’ll call it publisher.\nAll other objects that want to track \nchanges to the publisher’s state are called \nsubscribers.\nThe Observer pattern suggests that you \nadd a subscription mechanism to the \npublisher class so individual objects can \nsubscribe to or unsubscribe from a stream \nof events coming from that publisher."
  },
  {
    "chunk_index": 2,
    "title": "Observer Pattern: Mechanism and Problem",
    "text": "Observer design pattern: \nHow? \n1)\nan array field for storing a list of \nreferences to subscriber objects.\n2)\nseveral public methods which allow \nadding subscribers to and removing \nthem from that list.\nNow, whenever an important event happens to the publisher, it \ngoes over its subscribers and calls the specific notification \nmethod on their objects.\n\nObserver design pattern: \nProblem:\nReal apps might have dozens of different \nsubscriber classes that are interested in \ntracking events of the same publisher \nclass. You wouldn’t want to couple the \npublisher to all of those classes !!\n\nObserver design pattern: \nThat’s why it’s crucial that all subscribers implement the same \ninterface and that the publisher communicates with them only \nvia that interface.\n\nObserver design pattern: \nThe Publisher issues events of interest \nto other objects. \nThese events occur when the \npublisher changes its state or \nexecutes some behaviors. Publishers \ncontain a subscription infrastructure \nthat lets new subscribers join and \ncurrent subscribers leave the list.\n\nObserver design pattern: \nWhen a new event happens, the \npublisher goes over the subscription \nlist and calls the notification method \ndeclared in the subscriber interface on \neach subscriber object.\n\nObserver design pattern: \nThe Subscriber interface declares the \nnotification interface. In most cases, it \nconsists of a single update method. \nThe method may have several \nparameters that let the publisher pass \nsome event details along with the \nupdate."
  },
  {
    "chunk_index": 3,
    "title": "Observer Pattern: Subscribers, Clients, and Store Example",
    "text": "Observer design pattern: \nConcrete Subscribers perform some \nactions in response to notifications \nissued by the publisher. All of these \nclasses must implement the same \ninterface so the publisher isn’t \ncoupled to concrete classes.\n\nObserver design pattern: \nThe Client creates publisher and subscriber \nobjects separately and then registers \nsubscribers for publisher updates.\n\nStore example: \nDesign and implement the store solution \nusing the observer design pattern.\nAnd what if we want a mobile app notification?\n\nStore example -  design: \n\n\nStore example -  implementation: \nThe main interface: \nthe observer interface.\n\nStore example -  implementation: \nThe concrete observers.\n\nStore example -  implementation: \nThe publisher class:\ndefines the subscribers’ list \nand notifies them.\n\n\n\nSYRIAN PRIVATE UNIVERSITY\n\n\n\n\n\nHey, sign me\nup, please!\n\n- subscribers[]\n\n+ addSubscriber(subscriber)\n\n+ removeSubscriber(subscriber)\nMe too!\n\n\nHey, sign me\nup, please!\n\n- subscribers[]\n\n+ addSubscriber(subscriber)\n\n+ removeSubscriber(subscriber)\nMe too!\n\n\nGuys, | just want\nto let you know that\nsomething has just\n\nhappened to me."
  },
  {
    "chunk_index": 4,
    "title": "Observer Pattern: UML and Implementation Details",
    "text": "interfa\nSubscriber\n\n+ update(context)\n\nConcrete\nSubscribers\n\n+ update(context)\n\n- subscribers: Subscriber[]\n-mainState\n\n+ subscribe(s: Subscriber)\n\n+ unsubscribe(s: Subscriber)\n+ notifySubscribers()\n\n+ mainBusinessLogic\n\n5 = new ConcreteSubscriber)\npublishersubscribe(s)\n\nforeach (s in subscribers)\n\nnotifySubscribers()\n\n\ninterfa\nSubscriber\n\n+ update(context)\n\nConcrete\nSubscribers\n\n+ update(context)\n\n- subscribers: Subscriber[]\n-mainState\n\n+ subscribe(s: Subscriber)\n\n+ unsubscribe(s: Subscriber)\n+ notifySubscribers()\n\n+ mainBusinessLogic\n\n5 = new ConcreteSubscriber)\npublishersubscribe(s)\n\nforeach (s in subscribers)\n\nnotifySubscribers()\n\n\ninterfa\nSubscriber\n\n+ update(context)\n\nConcrete\nSubscribers\n\n+ update(context)\n\n- subscribers: Subscriber[]\n-mainState\n\n+ subscribe(s: Subscriber)\n\n+ unsubscribe(s: Subscriber)\n+ notifySubscribers()\n\n+ mainBusinessLogic\n\n5 = new ConcreteSubscriber)\npublishersubscribe(s)\n\nforeach (s in subscribers)\n\nnotifySubscribers()\n\n\ninterfa\nSubscriber\n\n+ update(context)\n\nConcrete\nSubscribers\n\n+ update(context)\n\n- subscribers: Subscriber[]\n-mainState\n\n+ subscribe(s: Subscriber)\n\n+ unsubscribe(s: Subscriber)\n+ notifySubscribers()\n\n+ mainBusinessLogic\n\n5 = new ConcreteSubscriber)\npublishersubscribe(s)\n\nforeach (s in subscribers)\n\nnotifySubscribers()"
  },
  {
    "chunk_index": 5,
    "title": "Observer Pattern: Subscriber Types and Notification Service",
    "text": "interfa\nSubscriber\n\n+ update(context)\n\nConcrete\nSubscribers\n\n+ update(context)\n\n- subscribers: Subscriber[]\n-mainState\n\n+ subscribe(s: Subscriber)\n\n+ unsubscribe(s: Subscriber)\n+ notifySubscribers()\n\n+ mainBusinessLogic\n\n5 = new ConcreteSubscriber)\npublishersubscribe(s)\n\nforeach (s in subscribers)\n\nnotifySubscribers()\n\n\n‘email Subscriber\n\nemail'string\n\nupdate( )\n\n| Subscriber\n\nupdate( )\n\nit\n\nmobile app Subscriber\n\ndevice_id\n\nupdate( )\n\nnotification-service\nsubscribers []\nadd_subscriber ()\nremove_subscriber )(\n\nnotify_users( )\n\nstore\n\nnotification-service\n\nnotify_users()\n\n\npackage observer;\n\npublic interface Eventbistener {\n\nvoid update (String message);"
  },
  {
    "chunk_index": 6,
    "title": "Observer Pattern: Java Implementation Example",
    "text": "‘email Subscriber\n\nemail'string\n\nupdate( )\n\n| Subscriber\n\nupdate( )\n\nit\n\nmobile app Subscriber\n\ndevice_id\n\nupdate( )\n\nnotification-service\nsubscribers []\nadd_subscriber ()\nremove_subscriber )(\n\nnotify_users( )\n\nstore\n\nnotification-service\n\nnotify_users()\n\n\n‘email Subscriber\n\nemail'string\n\nupdate( )\n\n| Subscriber\n\nupdate( )\n\nit\n\nmobile app Subscriber\n\ndevice_id\n\nupdate( )\n\nnotification-service\nsubscribers []\nadd_subscriber ()\nremove_subscriber )(\n\nnotify_users( )\n\nstore\n\nnotification-service\n\nnotify_users()\n\n\npublic class MobileAppListener implements EventListener {\nprivate final String username;\npublic MobileAppListener (String username) {\n\nthis.username = username;\n\n@override\npublic void update (String message) {\nSystem. out.print1n(\"Push notification sent to \"+ username +"
  },
  {
    "chunk_index": 7,
    "title": "Observer Pattern: Email and Notification Service Implementation",
    "text": "public class EmailMsgListener 220160205 EventListener {\n\nprivate final String ema\n\npublic EmailMsgbistener (String email) {\nthis.email = email;\n\n@override\npublic void update (String message) {\nSystem. out.print1n(\"Email sent to \" + em:\n\n+ message) +\n\n\n‘email Subscriber\n\nemail'string\n\nupdate( )\n\n| Subscriber\n\nupdate( )\n\nit\n\nmobile app Subscriber\n\ndevice_id\n\nupdate( )\n\nnotification-service\nsubscribers []\nadd_subscriber ()\nremove_subscriber )(\n\nnotify_users( )\n\nstore\n\nnotification-service\n\nnotify_users()\n\n\npublic class NotificationService {\n\nprivate final List<EventListener>\n\nisteners = new ArrayList<>();\n\npublic void subscribe (EventListener listener) {\nteners.add (listener) ;\n\npublic void unsubscribe (EventListener listener) {\nisteners. remove (listener);\n\npublic void notifyAllUsers (string message) {\nfor (EventListener listener\n\nlistener. update (message) ;\n\nteners) {"
  }
]